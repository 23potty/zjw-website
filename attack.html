<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>优雅的"反击"</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        sass: {
                            light: '#f5f0ff',
                            DEFAULT: '#8a4fff',
                            dark: '#5a2da8'
                        },
                        wisdom: {
                            100: '#f8f9fa',
                            200: '#e9ecef',
                            300: '#dee2e6',
                            400: '#ced4da',
                            500: '#adb5bd',
                            600: '#6c757d',
                            700: '#495057',
                            800: '#343a40',
                            900: '#212529',
                        }
                    },
                    fontFamily: {
                        elegant: ['"ZCOOL XiaoWei"', 'serif'],
                        playful: ['"Ma Shan Zheng"', 'cursive']
                    }
                }
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
            .text-shadow-subtle {
                text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
            }
            .bg-gradient-sass {
                background: linear-gradient(135deg, #f5f0ff 0%, #e6d9ff 100%);
            }
            .hover-scale {
                transition: transform 0.3s ease;
            }
            .hover-scale:hover {
                transform: scale(1.05);
            }
            .card-shadow {
                box-shadow: 0 10px 25px -5px rgba(138, 79, 255, 0.1), 0 8px 10px -6px rgba(138, 79, 255, 0.1);
            }
            .bubble {
                position: relative;
                background: white;
                border-radius: 1rem;
            }
            .bubble:after {
                content: '';
                position: absolute;
                bottom: 0;
                left: 10%;
                width: 0;
                height: 0;
                border: 20px solid transparent;
                border-top-color: white;
                border-bottom: 0;
                border-left: 0;
                margin-bottom: -20px;
            }
            .spin-slow {
                animation: spin 20s linear infinite;
            }
            @keyframes spin {
                from { transform: rotate(0deg); }
                to { transform: rotate(360deg); }
            }
            .float {
                animation: float 6s ease-in-out infinite;
            }
            @keyframes float {
                0% { transform: translateY(0px); }
                50% { transform: translateY(-15px); }
                100% { transform: translateY(0px); }
            }
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Ma+Shan+Zheng&family=ZCOOL+XiaoWei&display=swap" rel="stylesheet">
</head>
<body class="bg-gradient-sass min-h-screen font-elegant text-wisdom-800 overflow-x-hidden">
    <!-- 装饰元素 -->
    <div class="fixed top-10 right-10 text-sass text-4xl opacity-20 spin-slow">
        <i class="fa fa-comment"></i>
    </div>
    <div class="fixed bottom-20 left-5 text-sass text-3xl opacity-30 float">
        <i class="fa fa-quote-left"></i>
    </div>
    <div class="fixed top-40 left-10 text-sass text-5xl opacity-10 spin-slow" style="animation-delay: 5s">
        <i class="fa fa-comments"></i>
    </div>
    
    <!-- 主容器 -->
    <div class="container mx-auto px-4 py-16 relative z-10">
        <!-- 标题区域 -->
        <header class="text-center mb-16">
            <h1 class="text-[clamp(2.5rem,6vw,4rem)] font-playful text-sass mb-6 text-shadow-subtle">
                优雅的"反击"指南
            </h1>
            <div class="w-32 h-1 bg-sass mx-auto rounded-full mb-6"></div>
            <p class="text-wisdom-600 text-lg italic">用智慧代替脏话，让语言更有力量</p>
        </header>
        
        <!-- 主要内容区 -->
        <main class="max-w-5xl mx-auto">
            <!-- 介绍部分 -->
            <section class="bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl p-8 mb-16 hover-scale">
                <h2 class="text-2xl md:text-3xl font-playful text-sass mb-6 text-center">为什么选择优雅的表达方式？</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div class="bg-sass-light p-6 rounded-2xl">
                        <div class="text-sass text-4xl mb-4 text-center">
                            <i class="fa fa-brain"></i>
                        </div>
                        <h3 class="text-xl font-bold text-sass mb-3 text-center">展现智慧</h3>
                        <p class="text-wisdom-700 text-center">
                            巧妙的语言比脏话更能体现你的思考深度和应变能力。
                        </p>
                    </div>
                    
                    <div class="bg-sass-light p-6 rounded-2xl">
                        <div class="text-sass text-4xl mb-4 text-center">
                            <i class="fa fa-shield-alt"></i>
                        </div>
                        <h3 class="text-xl font-bold text-sass mb-3 text-center">保持风度</h3>
                        <p class="text-wisdom-700 text-center">
                            用文明的语言回应，能让你在冲突中保持高尚的姿态。
                        </p>
                    </div>
                    
                    <div class="bg-sass-light p-6 rounded-2xl">
                        <div class="text-sass text-4xl mb-4 text-center">
                            <i class="fa fa-bullseye"></i>
                        </div>
                        <h3 class="text-xl font-bold text-sass mb-3 text-center">直击要害</h3>
                        <p class="text-wisdom-700 text-center">
                            精准的措辞往往比粗俗的辱骂更具有杀伤力。
                        </p>
                    </div>
                </div>
            </section>
            
            <!-- 类型选择器 -->
            <section class="bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl p-8 mb-16">
                <h2 class="text-2xl md:text-3xl font-playful text-sass mb-8 text-center">选择你的"反击"风格</h2>
                
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8">
                    <button class="style-btn bg-sass hover:bg-sass-dark text-white font-bold py-3 px-4 rounded-xl shadow transition-all text-center" data-style="witty">
                        <i class="fa fa-lightbulb-o mr-2"></i> 机智幽默
                    </button>
                    <button class="style-btn bg-sass-light hover:bg-sass/80 text-sass font-bold py-3 px-4 rounded-xl shadow transition-all text-center" data-style="literary">
                        <i class="fa fa-book mr-2"></i> 文艺含蓄
                    </button>
                    <button class="style-btn bg-sass-light hover:bg-sass/80 text-sass font-bold py-3 px-4 rounded-xl shadow transition-all text-center" data-style="logical">
                        <i class="fa fa-balance-scale mr-2"></i> 理性分析
                    </button>
                    <button class="style-btn bg-sass-light hover:bg-sass/80 text-sass font-bold py-3 px-4 rounded-xl shadow transition-all text-center" data-style="poetic">
                        <i class="fa fa-pencil mr-2"></i> 诗意讽刺
                    </button>
                </div>
            </section>
            
            <!-- 精选内容区 -->
            <section id="content-section" class="bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl p-8 mb-16">
                <div class="text-center mb-8">
                    <h2 class="text-2xl md:text-3xl font-playful text-sass mb-2">机智幽默</h2>
                    <p class="text-wisdom-600 italic">用轻松诙谐的方式化解矛盾</p>
                </div>
                
                <!-- 内容卡片 -->
                <div id="content-cards" class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                    <!-- 内容项将通过JavaScript动态生成 -->
                </div>
                
                <!-- 图片区域 -->
                <div id="content-images" class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-8">
                    <!-- 图片将通过JavaScript动态生成 -->
                </div>
            </section>
            
            <!-- 创作工具 -->
            <section class="bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl p-8 mb-16">
                <h2 class="text-2xl md:text-3xl font-playful text-sass mb-6 text-center">创作属于你的"优雅反击"</h2>
                
                <div class="bg-sass-light rounded-2xl p-6 mb-8">
                    <div class="mb-4">
                        <label for="insult" class="block text-wisdom-700 font-bold mb-2">对方的言论：</label>
                        <textarea id="insult" rows="3" class="w-full px-4 py-2 border border-wisdom-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-sass focus:border-transparent" placeholder="输入对方的言论..."></textarea>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                        <div>
                            <label for="tone" class="block text-wisdom-700 font-bold mb-2">选择语气：</label>
                            <select id="tone" class="w-full px-4 py-2 border border-wisdom-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-sass focus:border-transparent">
                                <option value="humorous">幽默诙谐</option>
                                <option value="sarcastic">讽刺挖苦</option>
                                <option value="polite">礼貌回击</option>
                                <option value="wise">智慧反驳</option>
                            </select>
                        </div>
                        <div>
                            <label for="style" class="block text-wisdom-700 font-bold mb-2">选择风格：</label>
                            <select id="style" class="w-full px-4 py-2 border border-wisdom-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-sass focus:border-transparent">
                                <option value="literary">文艺风</option>
                                <option value="logical">理性风</option>
                                <option value="poetic">诗意风</option>
                                <option value="modern">现代风</option>
                            </select>
                        </div>
                        <div>
                            <label for="intensity" class="block text-wisdom-700 font-bold mb-2">反击强度：</label>
                            <select id="intensity" class="w-full px-4 py-2 border border-wisdom-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-sass focus:border-transparent">
                                <option value="light">轻度</option>
                                <option value="medium">中度</option>
                                <option value="strong">重度</option>
                            </select>
                        </div>
                    </div>
                    
                    <div id="result-container" class="mt-6">
                        <div class="mb-4">
                            <h3 class="font-bold text-lg mb-2">您的优雅回应：</h3>
                            <div class="bubble p-6 bg-white rounded-2xl mb-4">
                                <p id="result-text" class="text-wisdom-800">请输入对方的言论以生成回应...</p>
                            </div>
                        </div>
                        
                        <div class="flex justify-between">
                            <button id="copy-result" class="bg-sass hover:bg-sass-dark text-white font-bold py-2 px-4 rounded-lg shadow transition-all">
                                <i class="fa fa-copy mr-2"></i> 复制回应
                            </button>
                            <button id="share-result" class="bg-sass-light hover:bg-sass/80 text-sass font-bold py-2 px-4 rounded-lg shadow transition-all">
                                <i class="fa fa-share-alt mr-2"></i> 分享
                            </button>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- 名言警句 -->
            <section class="bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl p-8 mb-16">
                <h2 class="text-2xl md:text-3xl font-playful text-sass mb-6 text-center">语言的艺术</h2>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="bg-sass-light p-6 rounded-2xl shadow-md hover-scale">
                        <p class="text-wisdom-700 italic mb-4">"语言是思想的衣裳。"</p>
                        <p class="text-sass font-bold text-right">—— 塞缪尔·约翰逊</p>
                    </div>
                    
                    <div class="bg-sass-light p-6 rounded-2xl shadow-md hover-scale">
                        <p class="text-wisdom-700 italic mb-4">"言语之力，大到可以从坟墓唤醒死人，可以把生者活埋，把侏儒变成巨无霸，把巨无霸彻底打垮。"</p>
                        <p class="text-sass font-bold text-right">—— 海涅</p>
                    </div>
                    
                    <div class="bg-sass-light p-6 rounded-2xl shadow-md hover-scale">
                        <p class="text-wisdom-700 italic mb-4">"如果你要使别人喜欢你，如果你想他人对你产生兴趣，你注意的一点是：谈论别人感兴趣的事情。"</p>
                        <p class="text-sass font-bold text-right">—— 戴尔·卡耐基</p>
                    </div>
                    
                    <div class="bg-sass-light p-6 rounded-2xl shadow-md hover-scale">
                        <p class="text-wisdom-700 italic mb-4">"我们说的话可能会被记住一分钟；我们做的事可能会被记住一小时；但我们的品格却会被记住一辈子。"</p>
                        <p class="text-sass font-bold text-right">—— 阿尔伯特·爱因斯坦</p>
                    </div>
                </div>
            </section>
        </main>
        
        <!-- 页脚 -->
        <footer class="text-center mt-20 text-wisdom-600 text-sm">
            <p>用智慧武装语言 | <span id="currentYear"></span></p>
        </footer>
    </div>
    
    <!-- 复制提示 -->
    <div id="copy-toast" class="fixed bottom-6 left-1/2 transform -translate-x-1/2 bg-wisdom-800 text-white px-6 py-3 rounded-lg shadow-lg opacity-0 transition-opacity duration-300 z-50">
        已复制到剪贴板！
    </div>

    <script>
        // 设置当前年份
        document.getElementById('currentYear').textContent = new Date().getFullYear();
        
        // 定义所有风格的内容数据
        const contentData = {
            witty: {
                title: "机智幽默",
                description: "用轻松诙谐的方式化解矛盾",
                cards: [
                    {
                        category: "面对无理指责",
                        content: "您的想象力真是丰富，都可以去写科幻小说了。",
                        type: "幽默讽刺",
                        icon: "comment"
                    },
                    {
                        category: "应对炫耀",
                        content: "您这么厉害，是准备去拯救世界吗？需要我给您递披风吗？",
                        type: "夸张反讽",
                        icon: "comment"
                    },
                    {
                        category: "回应偏见",
                        content: "您的观点很独特，就像恐龙化石一样珍贵稀有。",
                        type: "类比幽默",
                        icon: "comment"
                    },
                    {
                        category: "反击挑衅",
                        content: "看来您今天是专门来给我提供喜剧素材的，谢谢惠顾！",
                        type: "角色扮演",
                        icon: "comment"
                    },
                    {
                        category: "应对批评",
                        content: "您的建议就像流星雨一样，偶尔出现一次还挺惊喜的。",
                        type: "比喻幽默",
                        icon: "comment"
                    },
                    {
                        category: "回应质疑",
                        content: "您这是在怀疑我的智商吗？要不要我给您表演个心算？",
                        type: "机智反问",
                        icon: "comment"
                    },
                    {
                        category: "面对恶意",
                        content: "您这么凶，是吃火药长大的吗？小心别把自己炸伤了。",
                        type: "夸张比喻",
                        icon: "comment"
                    },
                    {
                        category: "应对炫耀财富",
                        content: "您这是在炫富吗？我建议您去参加《吉尼斯世界纪录》。",
                        type: "幽默调侃",
                        icon: "comment"
                    }
                ],
                images: [
                    "https://picsum.photos/seed/witty1/600/400",
                    "https://picsum.photos/seed/witty2/600/400",
                    "https://picsum.photos/seed/witty3/600/400",
                    "https://picsum.photos/seed/witty4/600/400",
                    "https://picsum.photos/seed/witty5/600/400",
                    "https://picsum.photos/seed/witty6/600/400"
                ],
                imageAlt: [
                    "幽默反击示例1",
                    "幽默反击示例2",
                    "幽默反击示例3",
                    "幽默反击示例4",
                    "幽默反击示例5",
                    "幽默反击示例6"
                ]
            },
            literary: {
                title: "文艺含蓄",
                description: "用优雅的文字表达不满",
                cards: [
                    {
                        category: "面对无理指责",
                        content: "阁下之言，如沐春风，却也如坠云雾，不知所云。",
                        type: "委婉讽刺",
                        icon: "book"
                    },
                    {
                        category: "应对炫耀",
                        content: "君之才华，如皓月当空，令人仰望，却也觉遥不可及。",
                        type: "欲抑先扬",
                        icon: "book"
                    },
                    {
                        category: "回应偏见",
                        content: "仁者见仁，智者见智，君之所见，恐非全貌。",
                        type: "哲理回应",
                        icon: "book"
                    },
                    {
                        category: "反击挑衅",
                        content: "清风徐来，水波不兴，君之言语，如投石入水，泛起涟漪而已。",
                        type: "以静制动",
                        icon: "book"
                    },
                    {
                        category: "应对批评",
                        content: "良药苦口利于病，忠言逆耳利于行，然君之言语，苦口而未必良药。",
                        type: "辩证看待",
                        icon: "book"
                    },
                    {
                        category: "回应质疑",
                        content: "真理越辩越明，然君之质疑，如雾里看花，终隔一层。",
                        type: "理性回应",
                        icon: "book"
                    },
                    {
                        category: "面对恶意",
                        content: "相由心生，境由心转，君之恶意，如镜中之像，反观自身而已。",
                        type: "自我反思",
                        icon: "book"
                    },
                    {
                        category: "应对炫耀财富",
                        content: "钱财如粪土，仁义值千金，君之炫耀，如粪土之堆砌，徒增其臭而已。",
                        type: "价值批判",
                        icon: "book"
                    }
                ],
                images: [
                    "https://picsum.photos/seed/literary1/600/400",
                    "https://picsum.photos/seed/literary2/600/400",
                    "https://picsum.photos/seed/literary3/600/400",
                    "https://picsum.photos/seed/literary4/600/400",
                    "https://picsum.photos/seed/literary5/600/400",
                    "https://picsum.photos/seed/literary6/600/400"
                ],
                imageAlt: [
                    "文艺反击示例1",
                    "文艺反击示例2",
                    "文艺反击示例3",
                    "文艺反击示例4",
                    "文艺反击示例5",
                    "文艺反击示例6"
                ]
            },
            logical: {
                title: "理性分析",
                description: "用逻辑和事实进行反驳",
                cards: [
                    {
                        category: "面对无理指责",
                        content: "您的指责缺乏事实依据，在逻辑学中属于‘诉诸情感’的谬误。",
                        type: "逻辑批判",
                        icon: "balance-scale"
                    },
                    {
                        category: "应对炫耀",
                        content: "您的成就值得肯定，但在讨论中过度强调个人优势，可能会影响客观性。",
                        type: "理性提醒",
                        icon: "balance-scale"
                    },
                    {
                        category: "回应偏见",
                        content: "您的观点存在明显的认知偏差，建议从多个角度进行思考。",
                        type: "多角度分析",
                        icon: "balance-scale"
                    },
                    {
                        category: "反击挑衅",
                        content: "您的言论带有明显的攻击性，这无助于问题的解决，我们可以理性讨论。",
                        type: "以理服人",
                        icon: "balance-scale"
                    },
                    {
                        category: "应对批评",
                        content: "感谢您的批评，但请具体指出问题所在，这样我才能更好地改进。",
                        type: "建设性回应",
                        icon: "balance-scale"
                    },
                    {
                        category: "回应质疑",
                        content: "您的质疑有一定道理，但我们可以通过数据和事实来验证。",
                        type: "实证分析",
                        icon: "balance-scale"
                    },
                    {
                        category: "面对恶意",
                        content: "恶意攻击并不能证明您的观点正确，反而会暴露您的不理性。",
                        type: "情绪管理",
                        icon: "balance-scale"
                    },
                    {
                        category: "应对炫耀财富",
                        content: "财富与个人价值并无必然联系，过度炫耀可能反映出内心的空虚。",
                        type: "价值分析",
                        icon: "balance-scale"
                    }
                ],
                images: [
                    "https://picsum.photos/seed/logical1/600/400",
                    "https://picsum.photos/seed/logical2/600/400",
                    "https://picsum.photos/seed/logical3/600/400",
                    "https://picsum.photos/seed/logical4/600/400",
                    "https://picsum.photos/seed/logical5/600/400",
                    "https://picsum.photos/seed/logical6/600/400"
                ],
                imageAlt: [
                    "理性反击示例1",
                    "理性反击示例2",
                    "理性反击示例3",
                    "理性反击示例4",
                    "理性反击示例5",
                    "理性反击示例6"
                ]
            },
            poetic: {
                title: "诗意讽刺",
                description: "以诗为刃，温柔反击",
                cards: [
                    {
                        category: "面对无理指责",
                        content: "君之言语如利刃，伤人无形却无痕，然吾心似明镜，不染尘埃自清明。",
                        type: "隐喻讽刺",
                        icon: "pencil"
                    },
                    {
                        category: "应对炫耀",
                        content: "金樽清酒斗十千，玉盘珍羞直万钱，然吾独爱山间月，皎洁无瑕照我心。",
                        type: "对比讽刺",
                        icon: "pencil"
                    },
                    {
                        category: "回应偏见",
                        content: "横看成岭侧成峰，远近高低各不同，不识庐山真面目，只缘身在此山中。",
                        type: "哲理讽刺",
                        icon: "pencil"
                    },
                    {
                        category: "反击挑衅",
                        content: "宠辱不惊，闲看庭前花开花落；去留无意，漫随天外云卷云舒。",
                        type: "淡然处之",
                        icon: "pencil"
                    },
                    {
                        category: "应对批评",
                        content: "良药苦口利于病，忠言逆耳利于行，然君之言语，如苦酒入喉，难以下咽。",
                        type: "委婉拒绝",
                        icon: "pencil"
                    },
                    {
                        category: "回应质疑",
                        content: "天生我材必有用，千金散尽还复来，君之质疑，如蚍蜉撼树，可笑至极。",
                        type: "自信反击",
                        icon: "pencil"
                    },
                    {
                        category: "面对恶意",
                        content: "恶意如潮水，汹涌而来，然吾心如磐石，岿然不动。",
                        type: "坚强应对",
                        icon: "pencil"
                    },
                    {
                        category: "应对炫耀财富",
                        content: "不义而富且贵，于我如浮云，君之炫耀，如过眼云烟，转瞬即逝。",
                        type: "轻视态度",
                        icon: "pencil"
                    }
                ],
                images: [
                    "https://picsum.photos/seed/poetic1/600/400",
                    "https://picsum.photos/seed/poetic2/600/400",
                    "https://picsum.photos/seed/poetic3/600/400",
                    "https://picsum.photos/seed/poetic4/600/400",
                    "https://picsum.photos/seed/poetic5/600/400",
                    "https://picsum.photos/seed/poetic6/600/400"
                ],
                imageAlt: [
                    "诗意反击示例1",
                    "诗意反击示例2",
                    "诗意反击示例3",
                    "诗意反击示例4",
                    "诗意反击示例5",
                    "诗意反击示例6"
                ]
            }
        };
        
        // 同义词库，用于增加回应多样性
        const synonyms = {
            "观点": ["看法", "见解", "想法", "主张", "立场"],
            "言论": ["话语", "言辞", "说法", "表达", "陈述"],
            "批评": ["评价", "评论", "指责", "评判", "议论"],
            "回应": ["回复", "回答", "回应", "应答", "反应"],
            "思考": ["思索", "考虑", "沉思", "思量", "琢磨"],
            "理解": ["领会", "明白", "懂得", "知晓", "了解"],
            "沟通": ["交流", "谈话", "对话", "交谈", "沟通"],
            "方式": ["方法", "形式", "途径", "手段", "模式"],
            "智慧": ["聪明", "才智", "明智", "睿智", "聪慧"],
            "幽默": ["风趣", "诙谐", "滑稽", "好笑", "逗趣"]
        };
        
        // 获取随机同义词
        function getSynonym(word) {
            if (synonyms[word]) {
                const options = synonyms[word];
                return options[Math.floor(Math.random() * options.length)];
            }
            return word;
        }
        
        // 提取关键词
        function extractKeywords(text) {
            // 简单的关键词提取，实际应用中可以使用更复杂的NLP方法
            const stopWords = ["的", "了", "是", "在", "我", "有", "和", "就", "不", "人", "都", "一", "一个", "上", "也", "很", "到", "说", "要", "去", "你", "会", "着", "没有", "看", "好", "自己", "这"];
            const words = text.replace(/[^\w\s]/gi, '').split(/\s+/);
            
            return words.filter(word => !stopWords.includes(word) && word.length > 1);
        }
        
        // 风格按钮切换
        const styleBtns = document.querySelectorAll('.style-btn');
        styleBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                // 移除所有按钮的活跃状态
                styleBtns.forEach(b => {
                    b.classList.remove('bg-sass');
                    b.classList.add('bg-sass-light');
                    b.classList.remove('text-white');
                    b.classList.add('text-sass');
                });
                
                // 设置当前按钮为活跃状态
                btn.classList.remove('bg-sass-light');
                btn.classList.add('bg-sass');
                btn.classList.remove('text-sass');
                btn.classList.add('text-white');
                
                // 更新内容区域
                updateContentSection(btn.dataset.style);
            });
        });
        
        // 更新内容区域
        function updateContentSection(style) {
            const contentSection = document.getElementById('content-section');
            const contentTitle = contentSection.querySelector('h2');
            const contentDesc = contentSection.querySelector('p');
            const contentCards = document.getElementById('content-cards');
            const contentImages = document.getElementById('content-images');
            
            // 获取对应风格的数据
            const data = contentData[style];
            
            // 更新标题和描述
            contentTitle.textContent = data.title;
            contentDesc.textContent = data.description;
            
            // 清空现有内容
            contentCards.innerHTML = '';
            contentImages.innerHTML = '';
            
            // 随机选择4个卡片内容
            const shuffledCards = [...data.cards].sort(() => 0.5 - Math.random());
            const selectedCards = shuffledCards.slice(0, 4);
            
            // 添加卡片内容
            selectedCards.forEach(card => {
                const cardElement = document.createElement('div');
                cardElement.className = 'bg-sass-light rounded-2xl shadow-md p-6 hover-scale';
                cardElement.innerHTML = `
                    <div class="flex items-start mb-4">
                        <div class="text-sass text-2xl mr-3 mt-1">
                            <i class="fa fa-${card.icon}"></i>
                        </div>
                        <div>
                            <h3 class="font-bold text-lg mb-2">${card.category}</h3>
                            <p class="text-wisdom-700">${card.content}</p>
                        </div>
                    </div>
                    <div class="flex justify-between items-center mt-4">
                        <span class="text-xs text-wisdom-500">${card.type}</span>
                        <button class="copy-btn text-sass hover:text-sass-dark transition-colors">
                            <i class="fa fa-copy"></i> 复制
                        </button>
                    </div>
                `;
                contentCards.appendChild(cardElement);
            });
            
            // 随机选择3个图片
            const shuffledImages = [...data.images].sort(() => 0.5 - Math.random());
            const shuffledImageAlt = [...data.imageAlt].sort(() => 0.5 - Math.random());
            const selectedImages = shuffledImages.slice(0, 3);
            const selectedImageAlt = shuffledImageAlt.slice(0, 3);
            
            // 添加图片
            selectedImages.forEach((image, index) => {
                const imageElement = document.createElement('div');
                imageElement.className = 'rounded-xl overflow-hidden shadow-md hover-scale';
                imageElement.innerHTML = `
                    <img src="${image}" alt="${selectedImageAlt[index]}" class="w-full h-48 object-cover">
                `;
                contentImages.appendChild(imageElement);
            });
            
            // 重新绑定复制按钮事件
            bindCopyButtons();
        }
        
        // 绑定复制按钮事件
        function bindCopyButtons() {
            const copyBtns = document.querySelectorAll('.copy-btn');
            copyBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    const text = btn.parentElement.previousElementSibling.querySelector('p').textContent;
                    navigator.clipboard.writeText(text).then(() => {
                        showCopyToast();
                    });
                });
            });
        }
        
        // 复制结果按钮
        document.getElementById('copy-result').addEventListener('click', () => {
            const text = document.getElementById('result-text').textContent;
            navigator.clipboard.writeText(text).then(() => {
                showCopyToast();
            });
        });
        
        // 显示复制提示
        function showCopyToast() {
            const toast = document.getElementById('copy-toast');
            toast.classList.remove('opacity-0');
            toast.classList.add('opacity-100');
            
            setTimeout(() => {
                toast.classList.remove('opacity-100');
                toast.classList.add('opacity-0');
            }, 2000);
        }
        
        // 实时分析函数
        function analyzeAndGenerateResponse() {
            const insult = document.getElementById('insult').value;
            const tone = document.getElementById('tone').value;
            const style = document.getElementById('style').value;
            const intensity = document.getElementById('intensity').value;
            const resultText = document.getElementById('result-text');
            
            if (insult.trim() === '') {
                resultText.textContent = '请输入对方的言论以生成回应...';
                return;
            }
            
            // 分析情感倾向
            const sentiment = analyzeSentiment(insult);
            
            // 进行紧急情况检查
            if (checkCriticalSituation(insult)) {
                resultText.textContent = "我理解您可能很生气，但请尊重他人。";
                return;
            }
            
            try {
                // 提取关键词
                const keywords = extractKeywords(insult);
                
                // 根据语义分析生成回应
                const response = generateElegantResponse(insult, tone, style, intensity, sentiment, keywords);
                resultText.textContent = response;
            } catch (error) {
                console.error("生成回应时出错:", error);
                resultText.textContent = "我理解您可能有不同的看法，但请保持尊重和理性。";
            }
        }
        
        // 生成优雅回应的函数 - 改进版，提高灵活性
        function generateElegantResponse(insult, tone, style, intensity, sentiment, keywords) {
            // 基础结构：开场 + 主体 + 结尾
            let opening = [];
            let body = [];
            let closing = [];
            
            // 根据语气和强度构建开场
            if (tone === 'humorous') {
                opening = [
                    "您的" + getSynonym("言论") + "真是有趣，",
                    "听了您的话，我不禁笑了，",
                    "您的表达方式真有" + getSynonym("幽默") + "，",
                    "没想到还能这样看问题，"
                ];
            } else if (tone === 'sarcastic') {
                opening = [
                    "哦，原来您是这么想的，",
                    "您的" + getSynonym("观点") + "还真是特别，",
                    "听了您的话，我深受‘启发’，",
                    "您的逻辑真是‘独特’，"
                ];
            } else if (tone === 'polite') {
                opening = [
                    "感谢您的" + getSynonym("观点") + "，",
                    "我理解您的想法，",
                    "您的" + getSynonym("言论") + "有一定道理，",
                    "很高兴听到不同的声音，"
                ];
            } else if (tone === 'wise') {
                opening = [
                    "从您的话中，我看到了不同的思考角度，",
                    "您的" + getSynonym("观点") + "引发了我的" + getSynonym("思考") + "，",
                    "关于这个问题，您有自己的见解，",
                    "每个人都有表达的权利，"
                ];
            }
            
            // 根据关键词和情感构建主体
            if (keywords.length > 0) {
                // 选择一个关键词进行回应
                const keyWord = keywords[Math.floor(Math.random() * keywords.length)];
                
                if (sentiment === 'negative') {
                    body = [
                        "不过对于" + keyWord + "这一点，我有不同的" + getSynonym("看法") + "。",
                        "但关于" + keyWord + "，或许可以换个角度思考。",
                        "只是在" + keyWord + "这个问题上，我持有不同" + getSynonym("立场") + "。",
                        "然而对于" + keyWord + "，我的理解可能有所不同。"
                    ];
                } else {
                    body = [
                        "特别是关于" + keyWord + "的部分，很有启发性。",
                        "其中" + keyWord + "这个点，我很认同。",
                        "对于" + keyWord + "，我也有类似的" + getSynonym("想法") + "。",
                        "关于" + keyWord + "，我们或许可以进一步" + getSynonym("交流") + "。"
                    ];
                }
            } else {
                // 没有关键词时的通用主体
                body = [
                    "不过我有一些不同的思考。",
                    "但我对此有不同的理解。",
                    "只是我的看法可能略有不同。",
                    "不过换个角度看，或许会有新发现。"
                ];
            }
            
            // 根据风格和强度构建结尾
            if (style === 'literary') {
                closing = [
                    "言语之间，见仁见智，不知君以为然否？",
                    "各抒己见，方显思想之丰富，愿闻其详。",
                    "君子和而不同，存异方能求同，您说呢？",
                    "百家争鸣，方见真理之光，期待更多交流。"
                ];
            } else if (style === 'logical') {
                closing = [
                    "理性探讨才能接近真相，您觉得呢？",
                    "从多个角度分析，才能全面理解问题。",
                    "逻辑清晰的" + getSynonym("沟通") + "，才能解决分歧。",
                    "基于事实的讨论，才是有意义的交流。"
                ];
            } else if (style === 'poetic') {
                closing = [
                    "观点如繁星，各有其光芒，何必争短长。",
                    "言语如流水，观点如扁舟，载舟亦覆舟。",
                    "思想如百花，绽放各不同，何必论优劣。",
                    "见解如山川，高低各不同，相看两不厌。"
                ];
            } else { // modern
                closing = [
                    "每个人都有自己的想法，互相尊重就好。",
                    "没必要争执，各有各的道理。",
                    "理性讨论，别太较真，你觉得呢？",
                    "不同观点碰撞一下，也挺有意思的。"
                ];
            }
            
            // 根据强度调整结尾
            if (intensity === 'strong') {
                closing = closing.map(c => c + " 但我坚持自己的看法。");
            } else if (intensity === 'medium') {
                closing = closing.map(c => c + " 不知您是否认同？");
            }
            
            // 随机选择各部分并组合
            const selectedOpening = opening[Math.floor(Math.random() * opening.length)];
            const selectedBody = body[Math.floor(Math.random() * body.length)];
            const selectedClosing = closing[Math.floor(Math.random() * closing.length)];
            
            // 组合成完整回应
            let response = selectedOpening + selectedBody + selectedClosing;
            
            // 同义词替换，增加多样性
            Object.keys(synonyms).forEach(word => {
                if (Math.random() > 0.7) { // 70%概率替换
                    const regex = new RegExp(word, 'g');
                    response = response.replace(regex, getSynonym(word));
                }
            });
            
            return response;
        }
        
        // 分析对方言论的情感倾向
        function analyzeSentiment(text) {
            // 简单的实现，实际应用中可以替换为更复杂的NLP模型
            const positiveWords = ["好", "棒", "优秀", "棒", "强", "厉害", "牛", "赞", "好极了", "完美"];
            const negativeWords = ["差", "烂", "坏", "糟糕", "失败", "无能", "蠢", "笨", "垃圾", "讨厌", "反感"];
            
            let positiveCount = 0;
            let negativeCount = 0;
            
            for (const word of positiveWords) {
                if (text.includes(word)) {
                    positiveCount++;
                }
            }
            
            for (const word of negativeWords) {
                if (text.includes(word)) {
                    negativeCount++;
                }
            }
            
            if (negativeCount > 0) {
                return "negative";
            } else if (positiveCount > 0) {
                return "positive";
            } else {
                return "neutral";
            }
        }
        
        // 检查紧急情况的功能
        function checkCriticalSituation(insult) {
            // 检查是否包含直接的人身攻击
            const criticalWords = ['蠢货', '白痴', '笨蛋', '废物', '傻瓜', '疯子', '猪', '狗'];
            for (const word of criticalWords) {
                if (insult.includes(word)) {
                    return true;
                }
            }
            return false;
        }
        
        // 页面加载时初始化内容
        document.addEventListener('DOMContentLoaded', () => {
            updateContentSection('witty');
            
            // 实时监听输入变化并生成回应
            const insultInput = document.getElementById('insult');
            const toneSelect = document.getElementById('tone');
            const styleSelect = document.getElementById('style');
            const intensitySelect = document.getElementById('intensity');
            
            // 增加防抖处理，避免频繁输入导致性能问题
            let debounceTimer;
            insultInput.addEventListener('input', () => {
                clearTimeout(debounceTimer);
                debounceTimer = setTimeout(analyzeAndGenerateResponse, 300);
            });
            
            toneSelect.addEventListener('change', analyzeAndGenerateResponse);
            styleSelect.addEventListener('change', analyzeAndGenerateResponse);
            intensitySelect.addEventListener('change', analyzeAndGenerateResponse);
        });
    </script>
</body>
</html>
